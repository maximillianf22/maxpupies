{"ast":null,"code":"/*!-----------------------------------------------------\n * xZoom v1.0.15\n * (c) 2013 by Azat Ahmedov & Elman Guseynov\n * https://github.com/payalord\n * https://dribbble.com/elmanvebs\n * Apache License 2.0\n *------------------------------------------------------*/\nwindow.requestAnimFrame = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 20);\n  };\n}();\n\nfunction detect_old_ie() {\n  if (/MSIE (\\d+\\.\\d+);/.test(navigator.userAgent)) {\n    var ieversion = new Number(RegExp.$1);\n    if (ieversion >= 9) return false;else if (ieversion >= 8) return true;else if (ieversion >= 7) return true;else if (ieversion >= 6) return true;else if (ieversion >= 5) return true;\n  } else return false;\n}\n\n(function ($) {\n  //Compatibility between old and new versions of jQuery\n  $.fn.xon = $.fn.on || $.fn.bind;\n  $.fn.xoff = $.fn.off || $.fn.bind;\n\n  function xobject(mObj, opts) {\n    //Properties\n    this.xzoom = true;\n    var current = this;\n    var parent;\n    var xzoomID = {};\n    var sw, sh, mw, mh, moffset, stop, sleft, mtop, mleft, ctop, cleft, mx, my;\n    var source,\n        tint,\n        preview,\n        loading,\n        trans,\n        transImg,\n        sobjects = new Array();\n    var imageGallery = new Array(),\n        index = 0,\n        cindex = 0;\n    var img, imgObj, lens, lensImg;\n    var lw,\n        lh,\n        ll,\n        lt,\n        llc,\n        ltc,\n        ocofx,\n        ocofy,\n        cofx,\n        cofy,\n        c1,\n        c2,\n        iwh,\n        scale = 0;\n    var imgObjwidth, imgObjheight;\n    var flag,\n        u = 0,\n        v = 0,\n        su = 0,\n        sv = 0,\n        lsu = 0,\n        lsv = 0,\n        lu = 0,\n        lv = 0,\n        llu = 0,\n        llv = 0;\n    var ie = detect_old_ie(),\n        aie = /MSIE (\\d+\\.\\d+);/.test(navigator.userAgent),\n        iex,\n        iey;\n    var active,\n        title = '',\n        caption,\n        caption_container; //Adaptive properties\n\n    var wsw, wsh, osw, osh, tsw, tsh, oposition, reverse; //, smoothNormal;\n\n    this.adaptive = function () {\n      if (osw == 0 || osh == 0) {\n        mObj.css('width', '');\n        mObj.css('height', '');\n        osw = mObj.width();\n        osh = mObj.height();\n      }\n\n      xremove();\n      wsw = $(window).width();\n      wsh = $(window).height();\n      tsw = mObj.width();\n      tsh = mObj.height();\n      var update = false;\n      if (osw > wsw || osh > wsh) update = true;\n      if (tsw > osw) tsw = osw;\n      if (tsh > osh) tsh = osh;\n\n      if (update) {\n        mObj.width('100%');\n      } else {\n        if (osw != 0) mObj.width(osw);\n      }\n\n      if (oposition != 'fullscreen') if (adaptive_position_fit()) current.options.position = oposition;else current.options.position = current.options.mposition;\n      if (!current.options.lensReverse) reverse = current.options.adaptiveReverse && current.options.position == current.options.mposition;\n    };\n\n    function spos() {\n      var doc = document.documentElement;\n      var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      return {\n        left: left,\n        top: top\n      };\n    }\n\n    function adaptive_position_fit() {\n      var moffset = mObj.offset();\n      if (current.options.zoomWidth == 'auto') mw = tsw;else mw = current.options.zoomWidth; //tsw/osw * current.options.zoomWidth;\n\n      if (current.options.zoomHeight == 'auto') mh = tsh;else mh = current.options.zoomHeight; //tsw/osh * current.options.zoomHeight;\n\n      if (current.options.position.substr(0, 1) == '#') xzoomID = $(current.options.position);else xzoomID.length = 0;\n      if (xzoomID.length != 0) return true;\n\n      switch (oposition) {\n        case 'lens':\n        case 'inside':\n          return true;\n          break;\n\n        case 'top':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop - mh; //tsh;\n\n          mleft = sleft;\n          break;\n\n        case 'left':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft - mw; //tsw;\n\n          break;\n\n        case 'bottom':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop + tsh;\n          mleft = sleft;\n          break;\n\n        case 'right':\n        default:\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft + tsw;\n      }\n\n      if (mleft + mw > wsw || mleft < 0) return false; //if (mtop+mh>wsh || mtop<0) return false;\n\n      return true;\n    }\n\n    this.xscroll = function (event) {\n      mx = event.pageX || event.originalEvent.pageX;\n      my = event.pageY || event.originalEvent.pageY;\n      event.preventDefault();\n\n      if (event.xscale) {\n        scale = event.xscale;\n        xscale(mx, my);\n      } else {\n        var delta = -event.originalEvent.detail || event.originalEvent.wheelDelta || event.xdelta;\n        var x = mx;\n        var y = my;\n\n        if (ie) {\n          x = iex;\n          y = iey;\n        }\n\n        if (delta > 0) delta = -0.05;else delta = 0.05;\n        scale += delta;\n        xscale(x, y);\n      }\n    };\n\n    function lensShape() {\n      if (current.options.lensShape == 'circle' && current.options.position == 'lens') {\n        //this function must be called before set_lens()\n        lw = lh = Math.max(lw, lh);\n        var radius = (lw + Math.max(ltc, llc) * 2) / 2;\n        lens.css({\n          '-moz-border-radius': radius,\n          '-webkit-border-radius': radius,\n          'border-radius': radius\n        });\n      }\n    }\n\n    function lensOutput(x, y, sx, sy) {\n      if (current.options.position == 'lens') {\n        imgObj.css({\n          top: -(y - stop) * cofy + lh / 2,\n          left: -(x - sleft) * cofx + lw / 2\n        });\n\n        if (current.options.bg) {\n          lens.css({\n            'background-image': 'url(' + imgObj.attr('src') + ')',\n            'background-repeat': 'no-repeat',\n            'background-position': -(x - sleft) * cofx + lw / 2 + 'px ' + (-(y - stop) * cofy + lh / 2) + 'px'\n          });\n          if (sx && sy) lens.css({\n            'background-size': sx + 'px ' + sy + 'px'\n          });\n        }\n      } else {\n        imgObj.css({\n          top: -lt * cofy,\n          left: -ll * cofx\n        });\n      }\n    }\n\n    function xscale(x, y) {\n      if (scale < -1) scale = -1;\n      if (scale > 1) scale = 1;\n      var cc, iw, ih;\n\n      if (c1 < c2) {\n        cc = c1 - (c1 - 1) * scale;\n        iw = mw * cc;\n        ih = iw / iwh;\n      } else {\n        cc = c2 - (c2 - 1) * scale;\n        ih = mh * cc;\n        iw = ih * iwh;\n      }\n\n      if (flag) {\n        //If smoothMove\n        u = x;\n        v = y;\n        su = iw;\n        sv = ih;\n      } else {\n        if (!flag) {\n          lsu = su = iw;\n          lsv = sv = ih;\n        }\n\n        cofx = iw / sw;\n        cofy = ih / sh;\n        lw = mw / cofx;\n        lh = mh / cofy;\n        lensShape();\n        set_lens(x, y);\n        imgObj.width(iw);\n        imgObj.height(ih);\n        lens.width(lw);\n        lens.height(lh);\n        lens.css({\n          top: lt - ltc,\n          left: ll - llc\n        });\n        lensImg.css({\n          top: -lt,\n          left: -ll\n        });\n        lensOutput(x, y, iw, ih);\n      }\n    }\n\n    function loopZoom() {\n      var x = lu;\n      var y = lv;\n      var x2 = llu;\n      var y2 = llv;\n      var sx = lsu;\n      var sy = lsv;\n      x += (u - x) / current.options.smoothLensMove;\n      y += (v - y) / current.options.smoothLensMove;\n      x2 += (u - x2) / current.options.smoothZoomMove;\n      y2 += (v - y2) / current.options.smoothZoomMove;\n      sx += (su - sx) / current.options.smoothScale;\n      sy += (sv - sy) / current.options.smoothScale;\n      cofx = sx / sw;\n      cofy = sy / sh;\n      lw = mw / cofx;\n      lh = mh / cofy;\n      lensShape();\n      set_lens(x, y);\n      imgObj.width(sx);\n      imgObj.height(sy);\n      lens.width(lw);\n      lens.height(lh);\n      lens.css({\n        top: lt - ltc,\n        left: ll - llc\n      });\n      lensImg.css({\n        top: -lt,\n        left: -ll\n      });\n      set_lens(x2, y2);\n      lensOutput(x, y, sx, sy);\n      lu = x;\n      lv = y;\n      llu = x2;\n      llv = y2;\n      lsu = sx;\n      lsv = sy;\n      if (flag) requestAnimFrame(loopZoom);\n    }\n\n    function set_lens(x, y) {\n      x -= sleft;\n      y -= stop;\n      ll = x - lw / 2;\n      lt = y - lh / 2;\n\n      if (current.options.position != 'lens' && current.options.lensCollision) {\n        if (ll < 0) ll = 0;\n        if (sw >= lw && ll > sw - lw) ll = sw - lw;\n        if (sw < lw) ll = sw / 2 - lw / 2;\n        if (lt < 0) lt = 0;\n        if (sh >= lh && lt > sh - lh) lt = sh - lh;\n        if (sh < lh) lt = sh / 2 - lh / 2;\n      }\n    }\n\n    function xremove() {\n      if (typeof source != \"undefined\") source.remove();\n      if (typeof preview != \"undefined\") preview.remove();\n      if (typeof caption_container != \"undefined\") caption_container.remove();\n    }\n\n    function prepare_zoom(x, y) {\n      if (current.options.position == 'fullscreen') {\n        sw = $(window).width();\n        sh = $(window).height();\n      } else {\n        sw = mObj.width();\n        sh = mObj.height();\n      }\n\n      loading.css({\n        top: sh / 2 - loading.height() / 2,\n        left: sw / 2 - loading.width() / 2\n      });\n\n      if (current.options.rootOutput || current.options.position == 'fullscreen') {\n        moffset = mObj.offset();\n      } else {\n        moffset = mObj.position();\n      } //Round\n\n\n      moffset.top = Math.round(moffset.top);\n      moffset.left = Math.round(moffset.left);\n\n      switch (current.options.position) {\n        case 'fullscreen':\n          stop = spos().top;\n          sleft = spos().left;\n          mtop = 0;\n          mleft = 0;\n          break;\n\n        case 'inside':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = 0;\n          mleft = 0;\n          break;\n\n        case 'top':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop - mh;\n          mleft = sleft;\n          break;\n\n        case 'left':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft - mw;\n          break;\n\n        case 'bottom':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop + sh;\n          mleft = sleft;\n          break;\n\n        case 'right':\n        default:\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft + sw;\n      } //Correct source position\n\n\n      stop -= source.outerHeight() / 2;\n      sleft -= source.outerWidth() / 2;\n      if (current.options.position.substr(0, 1) == '#') xzoomID = $(current.options.position);else xzoomID.length = 0;\n\n      if (xzoomID.length == 0 && current.options.position != 'inside' && current.options.position != 'fullscreen') {\n        if (!current.options.adaptive || !osw || !osh) {\n          osw = sw;\n          osh = sh;\n        }\n\n        if (current.options.zoomWidth == 'auto') mw = sw;else mw = current.options.zoomWidth; //sw/osw * current.options.zoomWidth;\n\n        if (current.options.zoomHeight == 'auto') mh = sh;else mh = current.options.zoomHeight; //sw/osh * current.options.zoomHeight;\n        //Add offset\n\n        mtop += current.options.Yoffset;\n        mleft += current.options.Xoffset;\n        preview.css({\n          width: mw + 'px',\n          height: mh + 'px',\n          top: mtop,\n          left: mleft\n        });\n        if (current.options.position != 'lens') parent.append(preview);\n      } else if (current.options.position == 'inside' || current.options.position == 'fullscreen') {\n        mw = sw;\n        mh = sh;\n        preview.css({\n          width: mw + 'px',\n          height: mh + 'px'\n        });\n        source.append(preview);\n      } else {\n        mw = xzoomID.width();\n        mh = xzoomID.height();\n\n        if (current.options.rootOutput) {\n          mtop = xzoomID.offset().top;\n          mleft = xzoomID.offset().left;\n          parent.append(preview);\n        } else {\n          mtop = xzoomID.position().top;\n          mleft = xzoomID.position().left;\n          xzoomID.parent().append(preview);\n        }\n\n        mtop += (xzoomID.outerHeight() - mh - preview.outerHeight()) / 2;\n        mleft += (xzoomID.outerWidth() - mw - preview.outerWidth()) / 2;\n        preview.css({\n          width: mw + 'px',\n          height: mh + 'px',\n          top: mtop,\n          left: mleft\n        });\n      }\n\n      if (current.options.title && title != '') {\n        if (current.options.position == 'inside' || current.options.position == 'lens' || current.options.position == 'fullscreen') {\n          ctop = mtop;\n          cleft = mleft;\n          source.append(caption_container);\n        } else {\n          ctop = mtop + (preview.outerHeight() - mh) / 2;\n          cleft = mleft + (preview.outerWidth() - mw) / 2;\n          parent.append(caption_container);\n        }\n\n        caption_container.css({\n          width: mw + 'px',\n          height: mh + 'px',\n          top: ctop,\n          left: cleft\n        });\n      }\n\n      source.css({\n        width: sw + 'px',\n        height: sh + 'px',\n        top: stop,\n        left: sleft\n      });\n      tint.css({\n        width: sw + 'px',\n        height: sh + 'px'\n      });\n      if (current.options.tint && current.options.position != 'inside' && current.options.position != 'fullscreen') tint.css('background-color', current.options.tint);else if (ie) {\n        tint.css({\n          'background-image': 'url(' + mObj.attr('src') + ')',\n          'background-color': '#fff'\n        });\n      } //Image object\n\n      img = new Image();\n      var timestamp = '';\n      if (aie) timestamp = '?r=' + new Date().getTime();\n      img.src = mObj.attr('xoriginal') + timestamp;\n      imgObj = $(img);\n      imgObj.css('position', 'absolute'); //debug\n      //imgObj.css('opacity', '0.5');\n\n      img = new Image();\n      img.src = mObj.attr('src');\n      lensImg = $(img);\n      lensImg.css('position', 'absolute');\n      lensImg.width(sw); //Append image\n\n      switch (current.options.position) {\n        case 'fullscreen':\n        case 'inside':\n          preview.append(imgObj);\n          break;\n\n        case 'lens':\n          lens.append(imgObj);\n          if (current.options.bg) imgObj.css({\n            display: 'none'\n          });\n          break;\n\n        default:\n          preview.append(imgObj);\n          lens.append(lensImg);\n      }\n    }\n\n    this.openzoom = function (event) {\n      mx = event.pageX;\n      my = event.pageY;\n      if (current.options.adaptive) current.adaptive();\n      scale = current.options.defaultScale;\n      flag = false; //Source container\n\n      source = $('<div></div>');\n      if (current.options.sourceClass != '') source.addClass(current.options.sourceClass);\n      source.css('position', 'absolute'); //Loading container\n\n      loading = $('<div></div>');\n      if (current.options.loadingClass != '') loading.addClass(current.options.loadingClass);\n      loading.css('position', 'absolute');\n      tint = $('<div style=\"position: absolute; top: 0; left: 0;\"></div>');\n      source.append(loading); //Preview container\n\n      preview = $('<div></div>');\n      if (current.options.zoomClass != '' && current.options.position != 'fullscreen') preview.addClass(current.options.zoomClass);\n      preview.css({\n        position: 'absolute',\n        overflow: 'hidden',\n        opacity: 1\n      }); //Caption\n\n      if (current.options.title && title != '') {\n        caption_container = $('<div></div>');\n        caption = $('<div></div>');\n        caption_container.css({\n          position: 'absolute',\n          opacity: 1\n        });\n        if (current.options.titleClass) caption.addClass(current.options.titleClass);\n        caption.html('<span>' + title + '</span>');\n        caption_container.append(caption);\n        if (current.options.fadeIn) caption_container.css({\n          opacity: 0\n        });\n      } //Lens object\n\n\n      lens = $('<div></div>');\n      if (current.options.lensClass != '') lens.addClass(current.options.lensClass);\n      lens.css({\n        position: 'absolute',\n        overflow: 'hidden'\n      }); //Lens tint\n\n      if (current.options.lens) {\n        lenstint = $('<div></div>');\n        lenstint.css({\n          position: 'absolute',\n          background: current.options.lens,\n          opacity: current.options.lensOpacity,\n          width: '100%',\n          height: '100%',\n          top: 0,\n          left: 0,\n          'z-index': 9999\n        });\n        lens.append(lenstint);\n      }\n\n      prepare_zoom(mx, my);\n\n      if (current.options.position != 'inside' && current.options.position != 'fullscreen') {\n        if (current.options.tint || ie) source.append(tint);\n\n        if (current.options.fadeIn) {\n          tint.css({\n            opacity: 0\n          });\n          lens.css({\n            opacity: 0\n          });\n          preview.css({\n            opacity: 0\n          });\n        }\n\n        parent.append(source);\n      } else {\n        if (current.options.fadeIn) preview.css({\n          opacity: 0\n        });\n        parent.append(source);\n      } //Add event on mouse move\n\n\n      current.eventmove(source); //On mouse leave delete containers\n\n      current.eventleave(source); //Correct preview\n\n      switch (current.options.position) {\n        case 'inside':\n          mtop -= (preview.outerHeight() - preview.height()) / 2;\n          mleft -= (preview.outerWidth() - preview.width()) / 2;\n          break;\n\n        case 'top':\n          mtop -= preview.outerHeight() - preview.height();\n          mleft -= (preview.outerWidth() - preview.width()) / 2;\n          break;\n\n        case 'left':\n          mtop -= (preview.outerHeight() - preview.height()) / 2;\n          mleft -= preview.outerWidth() - preview.width();\n          break;\n\n        case 'bottom':\n          mleft -= (preview.outerWidth() - preview.width()) / 2;\n          break;\n\n        case 'right':\n          mtop -= (preview.outerHeight() - preview.height()) / 2;\n      }\n\n      preview.css({\n        top: mtop,\n        left: mleft\n      }); //We must be sure that image has been loaded\n\n      imgObj.xon('load', function (e) {\n        loading.remove();\n\n        if (!current.options.openOnSmall && (imgObj.width() < mw || imgObj.height() < mh)) {\n          current.closezoom();\n          e.preventDefault();\n          return false;\n        } //Scroll functionality\n\n\n        if (current.options.scroll) current.eventscroll(source);\n\n        if (current.options.position != 'inside' && current.options.position != 'fullscreen') {\n          //Append lens to source container\n          source.append(lens);\n\n          if (current.options.fadeIn) {\n            tint.fadeTo(300, current.options.tintOpacity);\n            lens.fadeTo(300, 1);\n            preview.fadeTo(300, 1);\n          } else {\n            tint.css({\n              opacity: current.options.tintOpacity\n            });\n            lens.css({\n              opacity: 1\n            });\n            preview.css({\n              opacity: 1\n            });\n          }\n        } else {\n          if (current.options.fadeIn) {\n            preview.fadeTo(300, 1);\n          } else {\n            preview.css({\n              opacity: 1\n            });\n          }\n        }\n\n        if (current.options.title && title != '') {\n          if (current.options.fadeIn) caption_container.fadeTo(300, 1);else caption_container.css({\n            opacity: 1\n          });\n        }\n\n        imgObjwidth = imgObj.width();\n        imgObjheight = imgObj.height();\n\n        if (current.options.adaptive) {\n          //Images corrections for adaptive\n          if (sw < osw || sh < osh) {\n            lensImg.width(sw);\n            lensImg.height(sh);\n            imgObjwidth = sw / osw * imgObjwidth;\n            imgObjheight = sh / osh * imgObjheight;\n            imgObj.width(imgObjwidth);\n            imgObj.height(imgObjheight);\n          }\n        } //Calculate lens size\n\n\n        lsu = su = imgObjwidth;\n        lsv = sv = imgObjheight;\n        iwh = imgObjwidth / imgObjheight;\n        c1 = imgObjwidth / mw;\n        c2 = imgObjheight / mh; //outerHeight and outerWidth work wrong sometimes, especially when we use init() function\n        //ltc = lens.outerHeight() / 2;\n        //llc = lens.outerWidth() / 2;\n        //Issue #2 Test .css() function that can return NaN and break lens object position\n\n        var t,\n            o = ['padding-', 'border-'];\n        ltc = llc = 0;\n\n        for (var i = 0; i < o.length; i++) {\n          t = parseFloat(lens.css(o[i] + 'top-width'));\n          ltc += t !== t ? 0 : t;\n          t = parseFloat(lens.css(o[i] + 'bottom-width'));\n          ltc += t !== t ? 0 : t;\n          t = parseFloat(lens.css(o[i] + 'left-width'));\n          llc += t !== t ? 0 : t;\n          t = parseFloat(lens.css(o[i] + 'right-width'));\n          llc += t !== t ? 0 : t;\n        }\n\n        ltc /= 2;\n        llc /= 2; //ltc = (parseFloat(lens.css('padding-top-width')) + parseFloat(lens.css('padding-bottom-width')) + parseFloat(lens.css('border-top-width')) + parseFloat(lens.css('border-bottom-width'))) / 2;\n        //llc = (parseFloat(lens.css('padding-left-width')) + parseFloat(lens.css('padding-right-width')) + parseFloat(lens.css('border-left-width')) + parseFloat(lens.css('border-right-width'))) / 2;\n        //ltc = (pb(lens, 'padding', 1) + pb(lens, 'border', 1)) / 2;\n        //llc = (pb(lens, 'padding', 0) + pb(lens, 'border', 0)) / 2;\n\n        llu = lu = u = mx;\n        llv = lv = v = my;\n        xscale(mx, my);\n\n        if (current.options.smooth) {\n          flag = true;\n          requestAnimFrame(loopZoom);\n        }\n\n        current.eventclick(source);\n      });\n    };\n    /*function pb(obj, name, dir) {\n      if (dir) {\n        return parseFloat(obj.css(name + '-top')) + parseFloat(obj.css(name + '-bottom'));\n      } else {\n        return parseFloat(obj.css(name + '-left')) + parseFloat(obj.css(name + '-right'));\n      }\n    }*/\n\n\n    this.movezoom = function (event) {\n      mx = event.pageX;\n      my = event.pageY;\n\n      if (ie) {\n        iex = mx;\n        iey = my;\n      }\n\n      var x = mx - sleft;\n      var y = my - stop;\n\n      if (reverse) {\n        event.pageX -= (x - sw / 2) * 2;\n        event.pageY -= (y - sh / 2) * 2;\n      }\n\n      if (x < 0 || x > sw || y < 0 || y > sh) source.trigger('mouseleave');\n\n      if (current.options.smooth) {\n        u = event.pageX;\n        v = event.pageY;\n      } else {\n        //Calculate zoom image position\n        lensShape();\n        set_lens(event.pageX, event.pageY);\n        lens.css({\n          top: lt - ltc,\n          left: ll - llc\n        });\n        lensImg.css({\n          top: -lt,\n          left: -ll\n        });\n        lensOutput(event.pageX, event.pageY, 0, 0);\n      }\n    };\n\n    this.eventdefault = function () {\n      current.eventopen = function (element) {\n        element.xon('mouseenter', current.openzoom);\n      };\n\n      current.eventleave = function (element) {\n        element.xon('mouseleave', current.closezoom);\n      };\n\n      current.eventmove = function (element) {\n        element.xon('mousemove', current.movezoom);\n      };\n\n      current.eventscroll = function (element) {\n        element.xon('mousewheel DOMMouseScroll', current.xscroll);\n      };\n\n      current.eventclick = function (element) {\n        element.xon('click', function (event) {\n          mObj.trigger('click');\n        });\n      };\n    };\n\n    this.eventunbind = function () {\n      mObj.xoff('mouseenter');\n\n      current.eventopen = function (element) {};\n\n      current.eventleave = function (element) {};\n\n      current.eventmove = function (element) {};\n\n      current.eventscroll = function (element) {};\n\n      current.eventclick = function (element) {};\n    };\n\n    this.init = function (options) {\n      //Default options\n      current.options = $.extend({}, $.fn.xzoom.defaults, options);\n\n      if (current.options.rootOutput) {\n        parent = $(\"body\");\n      } else {\n        parent = mObj.parent();\n      }\n\n      oposition = current.options.position; //ocof,\n\n      reverse = current.options.lensReverse && current.options.position == 'inside'; //Limits\n\n      if (current.options.smoothZoomMove < 1) current.options.smoothZoomMove = 1;\n      if (current.options.smoothLensMove < 1) current.options.smoothLensMove = 1;\n      if (current.options.smoothScale < 1) current.options.smoothScale = 1; //smoothNormal = current.options.smoothZoomMove && current.options.smoothLensMove && current.options.smoothScale;\n      //Adaptive\n\n      if (current.options.adaptive) {\n        $(window).xon('load', function () {\n          osw = mObj.width();\n          osh = mObj.height();\n          current.adaptive();\n          $(window).resize(current.adaptive);\n        });\n      }\n\n      current.eventdefault();\n      current.eventopen(mObj);\n    };\n\n    this.destroy = function () {\n      current.eventunbind();\n    };\n\n    this.closezoom = function () {\n      flag = false;\n\n      if (current.options.fadeOut) {\n        if (current.options.title && title != '') caption_container.fadeOut(299);\n\n        if (current.options.position != 'inside' || current.options.position != 'fullscreen') {\n          preview.fadeOut(299);\n          source.fadeOut(300, function () {\n            xremove();\n          });\n        } else {\n          source.fadeOut(300, function () {\n            xremove();\n          });\n        }\n      } else {\n        xremove();\n      }\n    };\n\n    this.gallery = function () {\n      var g = new Array();\n      var i,\n          j = 0;\n\n      for (i = cindex; i < imageGallery.length; i++) {\n        g[j] = imageGallery[i];\n        j++;\n      }\n\n      for (i = 0; i < cindex; i++) {\n        g[j] = imageGallery[i];\n        j++;\n      }\n\n      return {\n        index: cindex,\n        ogallery: imageGallery,\n        cgallery: g\n      };\n    };\n\n    function get_title(element) {\n      var otitle = element.attr('title');\n      var xotitle = element.attr('xtitle');\n\n      if (xotitle) {\n        return xotitle;\n      } else if (otitle) {\n        return otitle;\n      } else {\n        return '';\n      }\n    }\n\n    this.xappend = function (Obj) {\n      var link = Obj.parent(); //Add original image to image gallery\n\n      imageGallery[index] = link.attr('href');\n      link.data('xindex', index);\n\n      if (index == 0 && current.options.activeClass) {\n        active = Obj;\n        active.addClass(current.options.activeClass);\n      }\n\n      if (index == 0 && current.options.title) title = get_title(Obj);\n      index++;\n\n      function thumbchange(event) {\n        xremove();\n        event.preventDefault();\n\n        if (current.options.activeClass) {\n          active.removeClass(current.options.activeClass);\n          active = Obj;\n          active.addClass(current.options.activeClass);\n        }\n\n        cindex = $(this).data('xindex');\n\n        if (current.options.fadeTrans) {\n          transImg = new Image();\n          transImg.src = mObj.attr('src');\n          trans = $(transImg);\n          trans.css({\n            position: 'absolute',\n            top: mObj.offset().top,\n            left: mObj.offset().left,\n            width: mObj.width(),\n            height: mObj.height()\n          });\n          $(document.body).append(trans);\n          trans.fadeOut(200, function () {\n            trans.remove();\n          });\n        }\n\n        var _xorig = link.attr('href');\n\n        var _prev = Obj.attr('xpreview') || Obj.attr('src');\n\n        title = get_title(Obj);\n        if (Obj.attr('title')) mObj.attr('title', Obj.attr('title')); //imgObj.attr('src',_xorig);\n\n        mObj.attr('xoriginal', _xorig);\n        mObj.removeAttr('style');\n        mObj.attr('src', _prev);\n\n        if (current.options.adaptive) {\n          osw = mObj.width();\n          osh = mObj.height();\n        } //Prevent submit on click\n        //return false;\n\n      }\n\n      if (current.options.hover) {\n        link.xon('mouseenter', link, thumbchange);\n      }\n\n      link.xon('click', link, thumbchange);\n    };\n\n    this.init(opts);\n  }\n\n  $.fn.xzoom = function (options) {\n    var mainObj;\n    var secObj;\n\n    if (this.selector) {\n      var el = this.selector.split(\",\");\n\n      for (var i in el) el[i] = $.trim(el[i]);\n\n      this.each(function (index) {\n        if (el.length == 1) {\n          if (index == 0) {\n            //Main window element\n            mainObj = $(this);\n            if (typeof mainObj.data('xzoom') !== 'undefined') return mainObj.data('xzoom');\n            mainObj.x = new xobject(mainObj, options);\n          } else if (typeof mainObj.x !== 'undefined') {\n            //Thumbs\n            secObj = $(this);\n            mainObj.x.xappend(secObj);\n          }\n        } else {\n          if ($(this).is(el[0]) && index == 0) {\n            //Main window element\n            mainObj = $(this);\n            if (typeof mainObj.data('xzoom') !== 'undefined') return mainObj.data('xzoom');\n            mainObj.x = new xobject(mainObj, options);\n          } else if (typeof mainObj.x !== 'undefined' && !$(this).is(el[0])) {\n            //Thumbs\n            secObj = $(this);\n            mainObj.x.xappend(secObj);\n          }\n        }\n      });\n    } else this.each(function (index) {\n      if (index == 0) {\n        //Main window element\n        mainObj = $(this);\n        if (typeof mainObj.data('xzoom') !== 'undefined') return mainObj.data('xzoom');\n        mainObj.x = new xobject(mainObj, options);\n      } else if (typeof mainObj.x !== 'undefined') {\n        //Thumbs\n        secObj = $(this);\n        mainObj.x.xappend(secObj);\n      }\n    });\n\n    if (typeof mainObj === 'undefined') return false;\n    mainObj.data('xzoom', mainObj.x); //Fire event xzoom init\n\n    $(mainObj).trigger('xzoom_ready');\n    return mainObj.x;\n  };\n\n  $.fn.xzoom.defaults = {\n    position: 'right',\n    //top, left, right, bottom, inside, lens, fullscreen, #ID\n    mposition: 'inside',\n    //inside, fullscreen\n    rootOutput: true,\n    Xoffset: 0,\n    Yoffset: 0,\n    fadeIn: true,\n    fadeTrans: true,\n    fadeOut: false,\n    smooth: true,\n    smoothZoomMove: 3,\n    smoothLensMove: 1,\n    smoothScale: 6,\n    defaultScale: 0,\n    //from -1 to 1, that means -100% till 100% scale\n    scroll: true,\n    tint: false,\n    //'#color'\n    tintOpacity: 0.5,\n    lens: false,\n    //'#color'\n    lensOpacity: 0.5,\n    lensShape: 'box',\n    //'box', 'circle'\n    lensCollision: true,\n    lensReverse: false,\n    openOnSmall: true,\n    zoomWidth: 'auto',\n    zoomHeight: 'auto',\n    sourceClass: 'xzoom-source',\n    loadingClass: 'xzoom-loading',\n    lensClass: 'xzoom-lens',\n    zoomClass: 'xzoom-preview',\n    activeClass: 'xactive',\n    hover: false,\n    adaptive: true,\n    adaptiveReverse: false,\n    title: false,\n    titleClass: 'xzoom-caption',\n    bg: false //zoom image output as background\n\n  };\n})(jQuery);","map":{"version":3,"sources":["C:/Users/didie/Desktop/WEB/ikatech/hush-puppies-app/src/components/Product/xzoom.js"],"names":["window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","detect_old_ie","test","navigator","userAgent","ieversion","Number","RegExp","$1","$","fn","xon","on","bind","xoff","off","xobject","mObj","opts","xzoom","current","parent","xzoomID","sw","sh","mw","mh","moffset","stop","sleft","mtop","mleft","ctop","cleft","mx","my","source","tint","preview","loading","trans","transImg","sobjects","Array","imageGallery","index","cindex","img","imgObj","lens","lensImg","lw","lh","ll","lt","llc","ltc","ocofx","ocofy","cofx","cofy","c1","c2","iwh","scale","imgObjwidth","imgObjheight","flag","u","v","su","sv","lsu","lsv","lu","lv","llu","llv","ie","aie","iex","iey","active","title","caption","caption_container","wsw","wsh","osw","osh","tsw","tsh","oposition","reverse","adaptive","css","width","height","xremove","update","adaptive_position_fit","options","position","mposition","lensReverse","adaptiveReverse","spos","doc","document","documentElement","left","pageXOffset","scrollLeft","clientLeft","top","pageYOffset","scrollTop","clientTop","offset","zoomWidth","zoomHeight","substr","length","xscroll","event","pageX","originalEvent","pageY","preventDefault","xscale","delta","detail","wheelDelta","xdelta","x","y","lensShape","Math","max","radius","lensOutput","sx","sy","bg","attr","cc","iw","ih","set_lens","loopZoom","x2","y2","smoothLensMove","smoothZoomMove","smoothScale","lensCollision","remove","prepare_zoom","rootOutput","round","outerHeight","outerWidth","Yoffset","Xoffset","append","Image","timestamp","Date","getTime","src","display","openzoom","defaultScale","sourceClass","addClass","loadingClass","zoomClass","overflow","opacity","titleClass","html","fadeIn","lensClass","lenstint","background","lensOpacity","eventmove","eventleave","e","openOnSmall","closezoom","scroll","eventscroll","fadeTo","tintOpacity","t","o","i","parseFloat","smooth","eventclick","movezoom","trigger","eventdefault","eventopen","element","eventunbind","init","extend","defaults","resize","destroy","fadeOut","gallery","g","j","ogallery","cgallery","get_title","otitle","xotitle","xappend","Obj","link","data","activeClass","thumbchange","removeClass","fadeTrans","body","_xorig","_prev","removeAttr","hover","mainObj","secObj","selector","el","split","trim","each","is","jQuery"],"mappings":"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","sourcesContent":["/*!-----------------------------------------------------\n * xZoom v1.0.15\n * (c) 2013 by Azat Ahmedov & Elman Guseynov\n * https://github.com/payalord\n * https://dribbble.com/elmanvebs\n * Apache License 2.0\n *------------------------------------------------------*/\nwindow.requestAnimFrame = (function(){\n  return window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame ||\n  function(callback){\n    window.setTimeout(callback, 20);\n  };\n})();\n\nfunction detect_old_ie() {\n  if (/MSIE (\\d+\\.\\d+);/.test(navigator.userAgent)) {\n   var ieversion=new Number(RegExp.$1);\n   if (ieversion>=9)\n    return false\n   else if (ieversion>=8)\n    return true\n   else if (ieversion>=7)\n    return true\n   else if (ieversion>=6)\n    return true\n   else if (ieversion>=5)\n    return true\n  } else return false;\n}\n\n(function ($) {\n  //Compatibility between old and new versions of jQuery\n  $.fn.xon = $.fn.on || $.fn.bind;\n  $.fn.xoff = $.fn.off || $.fn.bind;\n\n  function xobject(mObj, opts) {\n    //Properties\n    this.xzoom = true;\n    var current = this;\n    var parent;\n    var xzoomID = {};\n\n    var sw, sh, mw, mh, moffset, stop, sleft, mtop, mleft, ctop, cleft, mx, my;\n    var source, tint, preview, loading, trans, transImg, sobjects = new Array();\n    var imageGallery = new Array(), index = 0, cindex = 0;\n    var img, imgObj, lens, lensImg;\n    var lw, lh, ll, lt, llc, ltc, ocofx, ocofy, cofx, cofy, c1, c2, iwh, scale = 0;\n    var imgObjwidth, imgObjheight;\n    var flag, u = 0, v = 0, su = 0, sv = 0, lsu = 0, lsv = 0, lu = 0, lv = 0, llu = 0, llv = 0;\n    var ie = detect_old_ie(), aie = /MSIE (\\d+\\.\\d+);/.test(navigator.userAgent), iex, iey;\n    var active, title = '', caption, caption_container;\n\n    //Adaptive properties\n    var wsw, wsh, osw, osh, tsw, tsh, oposition, reverse;//, smoothNormal;\n\n    this.adaptive = function() {\n      if (osw == 0 || osh == 0) {\n        mObj.css('width', '');\n        mObj.css('height', '');\n        osw = mObj.width();\n        osh = mObj.height();\n      }\n\n      xremove();\n      wsw = $(window).width();\n      wsh = $(window).height();\n\n      tsw = mObj.width();\n      tsh = mObj.height();\n\n      var update = false;\n      if (osw>wsw || osh>wsh) update = true;\n\n      if (tsw > osw) tsw = osw;\n      if (tsh > osh) tsh = osh;\n      if (update) {\n        mObj.width('100%');\n      } else {\n        if (osw != 0) mObj.width(osw);\n      }\n      if (oposition != 'fullscreen') if (adaptive_position_fit()) current.options.position = oposition; else current.options.position = current.options.mposition;\n      if (!current.options.lensReverse) reverse = current.options.adaptiveReverse && current.options.position == current.options.mposition;\n    }\n\n    function spos() {\n      var doc = document.documentElement;\n      var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var top = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0);\n\n      return {left: left, top: top};\n    }\n\n    function adaptive_position_fit() {\n      var moffset = mObj.offset();\n\n      if (current.options.zoomWidth == 'auto') mw = tsw; else mw = current.options.zoomWidth; //tsw/osw * current.options.zoomWidth;\n      if (current.options.zoomHeight == 'auto') mh = tsh; else mh = current.options.zoomHeight; //tsw/osh * current.options.zoomHeight;\n\n      if (current.options.position.substr(0,1) == '#') xzoomID = $(current.options.position); else xzoomID.length = 0;\n      if (xzoomID.length != 0) return true;\n\n      switch(oposition) {\n        case 'lens':\n        case 'inside':\n        return true;\n        break;\n        case 'top':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop - mh; //tsh;\n          mleft = sleft;\n        break;\n        case 'left':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft - mw; //tsw;\n        break;\n        case 'bottom':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop + tsh;\n          mleft = sleft;\n        break;\n        case 'right':\n        default:\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft + tsw;\n      }\n      if (mleft+mw>wsw || mleft<0) return false; //if (mtop+mh>wsh || mtop<0) return false;\n      return true;\n    }\n\n    this.xscroll = function(event) {\n      mx = event.pageX || event.originalEvent.pageX;\n      my = event.pageY || event.originalEvent.pageY;\n\n      event.preventDefault();\n\n      if (event.xscale) {\n        scale = event.xscale;\n        xscale(mx, my);\n      } else {\n        var delta = -event.originalEvent.detail || event.originalEvent.wheelDelta || event.xdelta;\n        var x = mx;\n        var y = my;\n        if (ie) {\n          x = iex;\n          y = iey;\n        }\n\n        if (delta > 0) delta = -0.05; else delta = 0.05;\n\n        scale += delta;\n\n        xscale(x, y);\n      }\n    }\n\n    function lensShape() {\n      if (current.options.lensShape == 'circle' && current.options.position == 'lens') {\n        //this function must be called before set_lens()\n        lw = lh = Math.max(lw, lh);\n        var radius = (lw + Math.max(ltc,llc) * 2) / 2;\n        lens.css({'-moz-border-radius': radius, '-webkit-border-radius': radius, 'border-radius': radius});\n      }\n    }\n\n    function lensOutput(x, y, sx, sy) {\n      if (current.options.position == 'lens') {\n        imgObj.css({top: -(y-stop) * cofy + (lh / 2), left: -(x-sleft) * cofx + (lw / 2)});\n        if (current.options.bg) {\n          lens.css({'background-image': 'url('+imgObj.attr('src')+')', 'background-repeat': 'no-repeat', 'background-position': (-(x-sleft) * cofx + (lw / 2))+'px '+(-(y-stop) * cofy + (lh / 2))+'px'});\n          if (sx && sy) lens.css({'background-size': sx+'px '+sy+'px'});\n        }\n      } else {\n        imgObj.css({top: -lt * cofy, left: -ll * cofx});\n      }\n    }\n\n    function xscale(x, y) {\n      if (scale < -1) scale = -1;\n      if (scale > 1) scale = 1;\n\n      var cc, iw, ih;\n\n      if (c1 < c2) {\n        cc = c1 - (c1 - 1) * scale;\n        iw = mw * cc;\n        ih = iw / iwh;\n      } else {\n        cc = c2 - (c2 - 1) * scale;\n        ih = mh * cc;\n        iw = ih * iwh;\n      }\n\n      if (flag) {\n        //If smoothMove\n        u = x;\n        v = y;\n        su = iw;\n        sv = ih;\n      } else {\n        if (!flag) {\n          lsu = su = iw;\n          lsv = sv = ih;\n        }\n        cofx = iw / sw;\n        cofy = ih / sh;\n        lw = mw / cofx;\n        lh = mh / cofy;\n        lensShape();\n        set_lens(x, y);\n\n        imgObj.width(iw);\n        imgObj.height(ih);\n        lens.width(lw);\n        lens.height(lh);\n\n        lens.css({top: lt - ltc, left: ll - llc});\n        lensImg.css({top: -lt, left: -ll});\n        lensOutput(x, y, iw, ih);\n      }\n    }\n\n    function loopZoom() {\n      var x = lu;\n      var y = lv;\n      var x2 = llu;\n      var y2 = llv;\n      var sx = lsu;\n      var sy = lsv;\n      x += (u - x) / current.options.smoothLensMove;\n      y += (v - y) / current.options.smoothLensMove;\n\n      x2 += (u - x2) / current.options.smoothZoomMove;\n      y2 += (v - y2) / current.options.smoothZoomMove;\n\n      sx += (su - sx) / current.options.smoothScale;\n      sy += (sv - sy) / current.options.smoothScale;\n\n      cofx = sx / sw;\n      cofy = sy / sh;\n\n      lw = mw / cofx;\n      lh = mh / cofy;\n      lensShape();\n      set_lens(x, y);\n\n      imgObj.width(sx);\n      imgObj.height(sy);\n\n      lens.width(lw);\n      lens.height(lh);\n\n      lens.css({top: lt - ltc, left: ll - llc});\n      lensImg.css({top: -lt, left: -ll});\n\n      set_lens(x2, y2);\n      lensOutput(x, y, sx, sy);\n\n      lu = x;\n      lv = y;\n      llu = x2;\n      llv = y2;\n      lsu = sx;\n      lsv = sy;\n\n      if (flag) requestAnimFrame(loopZoom);\n    }\n\n    function set_lens(x, y) {\n      x -= sleft;\n      y -= stop;\n      ll = x - (lw / 2);\n      lt = y - (lh / 2);\n\n      if (current.options.position != 'lens' && current.options.lensCollision) {\n        if (ll < 0) ll = 0;\n        if (sw >= lw && ll > sw - lw) ll = sw - lw;\n        if (sw < lw) ll = sw / 2 - lw / 2;\n        if (lt < 0) lt = 0;\n        if (sh >= lh && lt > sh - lh) lt = sh - lh;\n        if (sh < lh) lt = sh / 2 - lh / 2;\n      }\n    }\n\n    function xremove() {\n      if (typeof source != \"undefined\") source.remove();\n      if (typeof preview != \"undefined\") preview.remove();\n      if (typeof caption_container != \"undefined\") caption_container.remove();\n    }\n\n    function prepare_zoom(x, y) {\n      if (current.options.position == 'fullscreen') {\n        sw = $(window).width();\n        sh = $(window).height();\n      } else {\n        sw = mObj.width();\n        sh = mObj.height();\n      }\n\n      loading.css({top: sh / 2 - loading.height() / 2, left: sw / 2 - loading.width() / 2});\n\n      if (current.options.rootOutput || current.options.position == 'fullscreen') {\n        moffset = mObj.offset();\n      } else {\n        moffset = mObj.position();\n      }\n\n      //Round\n      moffset.top = Math.round(moffset.top);\n      moffset.left = Math.round(moffset.left);\n\n      switch(current.options.position) {\n        case 'fullscreen':\n          stop = spos().top;\n          sleft = spos().left;\n          mtop = 0;\n          mleft = 0;\n        break;\n        case 'inside':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = 0;\n          mleft = 0;\n        break;\n        case 'top':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop - mh;\n          mleft = sleft;\n        break;\n        case 'left':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft - mw;\n        break;\n        case 'bottom':\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop + sh;\n          mleft = sleft;\n        break;\n        case 'right':\n        default:\n          stop = moffset.top;\n          sleft = moffset.left;\n          mtop = stop;\n          mleft = sleft + sw;\n      }\n\n      //Correct source position\n      stop -= source.outerHeight() / 2;\n      sleft -= source.outerWidth() / 2;\n\n      if (current.options.position.substr(0,1) == '#') xzoomID = $(current.options.position); else xzoomID.length = 0;\n      if (xzoomID.length == 0 && current.options.position != 'inside' && current.options.position!= 'fullscreen') {\n\n        if (!current.options.adaptive || !osw || !osh) {osw = sw; osh = sh;}\n        if (current.options.zoomWidth == 'auto') mw = sw; else mw = current.options.zoomWidth; //sw/osw * current.options.zoomWidth;\n        if (current.options.zoomHeight == 'auto') mh = sh; else mh = current.options.zoomHeight; //sw/osh * current.options.zoomHeight;\n\n        //Add offset\n        mtop += current.options.Yoffset;\n        mleft += current.options.Xoffset;\n\n        preview.css({width: mw + 'px', height: mh + 'px', top: mtop, left: mleft});\n        if (current.options.position != 'lens') parent.append(preview);\n      } else if (current.options.position == 'inside' || current.options.position == 'fullscreen') {\n        mw = sw;\n        mh = sh;\n\n        preview.css({width: mw + 'px', height: mh + 'px'});\n        source.append(preview);\n      } else {\n        mw = xzoomID.width();\n        mh = xzoomID.height();\n\n        if (current.options.rootOutput) {\n          mtop = xzoomID.offset().top;\n          mleft = xzoomID.offset().left;\n\n          parent.append(preview);\n        } else {\n          mtop = xzoomID.position().top;\n          mleft = xzoomID.position().left;\n\n          xzoomID.parent().append(preview);\n        }\n\n        mtop += (xzoomID.outerHeight() - mh - preview.outerHeight()) / 2;\n        mleft += (xzoomID.outerWidth() - mw - preview.outerWidth()) / 2;\n        preview.css({width: mw + 'px', height: mh + 'px', top: mtop, left: mleft});\n      }\n\n      if (current.options.title && title != '') {\n        if (current.options.position == 'inside' || current.options.position == 'lens' || current.options.position == 'fullscreen') {\n          ctop = mtop;\n          cleft = mleft;\n          source.append(caption_container);\n        } else {\n          ctop = mtop + (preview.outerHeight()-mh)/2;\n          cleft = mleft + (preview.outerWidth()-mw)/2;\n          parent.append(caption_container);\n        }\n        caption_container.css({width: mw + 'px', height: mh + 'px', top: ctop, left: cleft});\n      }\n\n      source.css({width: sw + 'px', height: sh + 'px', top: stop, left: sleft});\n      tint.css({width: sw + 'px', height: sh + 'px'});\n      if (current.options.tint && (current.options.position != 'inside' && current.options.position != 'fullscreen'))\n        tint.css('background-color', current.options.tint)\n      else if (ie) {\n        tint.css({'background-image': 'url('+mObj.attr('src')+')', 'background-color': '#fff'});\n      }\n\n      //Image object\n      img = new Image();\n\n      var timestamp = '';\n      if (aie) timestamp = '?r='+(new Date()).getTime();\n      img.src = mObj.attr('xoriginal')+timestamp;\n\n      imgObj = $(img);\n      imgObj.css('position', 'absolute');\n      //debug\n      //imgObj.css('opacity', '0.5');\n\n      img = new Image();\n      img.src = mObj.attr('src');\n\n      lensImg = $(img);\n      lensImg.css('position', 'absolute');\n      lensImg.width(sw);\n\n      //Append image\n      switch (current.options.position) {\n        case 'fullscreen':\n        case 'inside':\n          preview.append(imgObj);\n        break;\n        case 'lens':\n          lens.append(imgObj);\n          if (current.options.bg) imgObj.css({display: 'none'});\n        break;\n        default:\n          preview.append(imgObj);\n          lens.append(lensImg);\n      }\n    }\n\n    this.openzoom = function (event) {\n        mx = event.pageX; my = event.pageY;\n\n        if (current.options.adaptive) current.adaptive();\n        scale = current.options.defaultScale; flag = false;\n\n        //Source container\n        source = $('<div></div>');\n        if (current.options.sourceClass != '') source.addClass(current.options.sourceClass);\n        source.css('position', 'absolute');\n\n        //Loading container\n        loading = $('<div></div>');\n        if (current.options.loadingClass != '') loading.addClass(current.options.loadingClass);\n        loading.css('position', 'absolute');\n\n        tint = $('<div style=\"position: absolute; top: 0; left: 0;\"></div>');\n\n        source.append(loading);\n\n        //Preview container\n        preview = $('<div></div>');\n        if (current.options.zoomClass != '' && current.options.position != 'fullscreen') preview.addClass(current.options.zoomClass);\n        preview.css({position: 'absolute', overflow: 'hidden', opacity: 1});\n\n        //Caption\n        if (current.options.title && title != '') {\n          caption_container = $('<div></div>');\n          caption = $('<div></div>');\n          caption_container.css({position: 'absolute', opacity: 1});\n          if (current.options.titleClass) caption.addClass(current.options.titleClass);\n          caption.html('<span>'+title+'</span>');\n          caption_container.append(caption);\n          if (current.options.fadeIn) caption_container.css({opacity:0});\n        }\n\n        //Lens object\n        lens = $('<div></div>');\n        if (current.options.lensClass != '') lens.addClass(current.options.lensClass);\n        lens.css({position: 'absolute', overflow: 'hidden'});\n\n        //Lens tint\n        if (current.options.lens) {\n          lenstint = $('<div></div>');\n          lenstint.css({position: 'absolute', background: current.options.lens, opacity: current.options.lensOpacity, width: '100%', height: '100%', top: 0, left: 0, 'z-index': 9999});\n          lens.append(lenstint);\n        }\n\n        prepare_zoom(mx, my);\n\n        if (current.options.position != 'inside' && current.options.position != 'fullscreen') {\n          if (current.options.tint || ie) source.append(tint);\n\n          if (current.options.fadeIn) {\n            tint.css({opacity:0});\n            lens.css({opacity:0});\n            preview.css({opacity:0});\n          }\n          parent.append(source);\n        } else {\n          if (current.options.fadeIn) preview.css({opacity:0});\n          parent.append(source);\n        }\n\n        //Add event on mouse move\n        current.eventmove(source);\n\n        //On mouse leave delete containers\n        current.eventleave(source);\n\n        //Correct preview\n        switch(current.options.position) {\n          case 'inside':\n            mtop -= (preview.outerHeight() - preview.height()) / 2;\n            mleft -= (preview.outerWidth() - preview.width()) / 2;\n          break;\n          case 'top':\n            mtop -= preview.outerHeight() - preview.height();\n            mleft -= (preview.outerWidth() - preview.width()) / 2;\n          break;\n          case 'left':\n            mtop -= (preview.outerHeight()  - preview.height()) / 2;\n            mleft -= preview.outerWidth() - preview.width();\n          break;\n          case 'bottom':\n            mleft -= (preview.outerWidth() - preview.width()) / 2;\n          break;\n          case 'right':\n            mtop -= (preview.outerHeight() - preview.height()) / 2;\n        }\n\n        preview.css({top: mtop, left: mleft});\n\n        //We must be sure that image has been loaded\n        imgObj.xon('load', function(e) {\n          loading.remove();\n\n          if (!current.options.openOnSmall && (imgObj.width() < mw || imgObj.height() < mh)) {\n            current.closezoom();\n            e.preventDefault();\n            return false;\n          }\n\n          //Scroll functionality\n          if (current.options.scroll) current.eventscroll(source);\n\n          if (current.options.position != 'inside' && current.options.position != 'fullscreen') {\n            //Append lens to source container\n            source.append(lens);\n            if (current.options.fadeIn) {\n              tint.fadeTo(300, current.options.tintOpacity);\n              lens.fadeTo(300, 1);\n              preview.fadeTo(300,1);\n            } else {\n              tint.css({opacity: current.options.tintOpacity});\n              lens.css({opacity: 1});\n              preview.css({opacity: 1});\n            }\n          } else {\n            if (current.options.fadeIn) {\n              preview.fadeTo(300,1);\n            } else {\n              preview.css({opacity: 1});\n            }\n          }\n\n          if (current.options.title && title != '') {\n            if (current.options.fadeIn) caption_container.fadeTo(300,1); else caption_container.css({opacity: 1});\n          }\n\n          imgObjwidth = imgObj.width();\n          imgObjheight = imgObj.height();\n\n          if (current.options.adaptive) {\n          //Images corrections for adaptive\n            if (sw<osw || sh<osh) {\n              lensImg.width(sw);\n              lensImg.height(sh);\n\n              imgObjwidth = sw/osw * imgObjwidth;\n              imgObjheight = sh/osh * imgObjheight;\n\n              imgObj.width(imgObjwidth);\n              imgObj.height(imgObjheight);\n            }\n          }\n\n          //Calculate lens size\n          lsu = su = imgObjwidth;\n          lsv = sv = imgObjheight;\n          iwh = imgObjwidth / imgObjheight;\n          c1 = imgObjwidth / mw;\n          c2 = imgObjheight / mh;\n\n          //outerHeight and outerWidth work wrong sometimes, especially when we use init() function\n          //ltc = lens.outerHeight() / 2;\n          //llc = lens.outerWidth() / 2;\n          //Issue #2 Test .css() function that can return NaN and break lens object position\n          var t, o = ['padding-','border-'];\n          ltc = llc = 0;\n          for(var i = 0; i<o.length;i++) {\n            t = parseFloat(lens.css(o[i]+'top-width'));\n            ltc += t !== t ? 0 : t;\n            t = parseFloat(lens.css(o[i]+'bottom-width'));\n            ltc += t !== t ? 0 : t;\n            t = parseFloat(lens.css(o[i]+'left-width'));\n            llc += t !== t ? 0 : t;\n            t = parseFloat(lens.css(o[i]+'right-width'));\n            llc += t !== t ? 0 : t;\n          }\n          ltc /= 2;\n          llc /= 2;\n          //ltc = (parseFloat(lens.css('padding-top-width')) + parseFloat(lens.css('padding-bottom-width')) + parseFloat(lens.css('border-top-width')) + parseFloat(lens.css('border-bottom-width'))) / 2;\n          //llc = (parseFloat(lens.css('padding-left-width')) + parseFloat(lens.css('padding-right-width')) + parseFloat(lens.css('border-left-width')) + parseFloat(lens.css('border-right-width'))) / 2;\n          //ltc = (pb(lens, 'padding', 1) + pb(lens, 'border', 1)) / 2;\n          //llc = (pb(lens, 'padding', 0) + pb(lens, 'border', 0)) / 2;\n          llu = lu = u = mx;\n          llv = lv = v = my;\n          xscale(mx, my);\n\n          if (current.options.smooth) {flag = true; requestAnimFrame(loopZoom);}\n\n          current.eventclick(source);\n        });\n    }\n\n    /*function pb(obj, name, dir) {\n      if (dir) {\n        return parseFloat(obj.css(name + '-top')) + parseFloat(obj.css(name + '-bottom'));\n      } else {\n        return parseFloat(obj.css(name + '-left')) + parseFloat(obj.css(name + '-right'));\n      }\n    }*/\n\n    this.movezoom = function(event) {\n      mx = event.pageX;\n      my = event.pageY;\n      if (ie) {\n        iex = mx;\n        iey = my;\n      }\n\n      var x = mx - sleft;\n      var y = my - stop;\n\n      if (reverse) {\n        event.pageX -= (x - sw / 2) * 2;\n        event.pageY -= (y - sh / 2) * 2;\n      }\n\n      if (x < 0 || x > sw || y < 0 || y > sh) source.trigger('mouseleave');\n      if (current.options.smooth) {\n        u = event.pageX;\n        v = event.pageY;\n      } else {\n        //Calculate zoom image position\n        lensShape();\n        set_lens(event.pageX, event.pageY);\n        lens.css({top: lt - ltc, left: ll - llc});\n        lensImg.css({top: -lt, left: -ll});\n        lensOutput(event.pageX,event.pageY, 0, 0);\n      }\n    }\n\n    this.eventdefault = function() {\n      current.eventopen = function(element) {\n        element.xon('mouseenter', current.openzoom);\n      }\n\n      current.eventleave = function(element) {\n        element.xon('mouseleave', current.closezoom);\n      }\n\n      current.eventmove = function(element) {\n        element.xon('mousemove', current.movezoom);\n      }\n\n      current.eventscroll = function(element) {\n        element.xon('mousewheel DOMMouseScroll', current.xscroll);\n      }\n\n      current.eventclick = function(element) {\n        element.xon('click', function(event) {\n          mObj.trigger('click');\n        });\n      }\n    }\n\n    this.eventunbind = function() {\n      mObj.xoff('mouseenter');\n      current.eventopen = function(element) {}\n      current.eventleave = function(element) {}\n      current.eventmove = function(element) {}\n      current.eventscroll = function(element) {}\n      current.eventclick = function(element) {}\n    }\n\n    this.init = function (options) {\n      //Default options\n      current.options = $.extend({},$.fn.xzoom.defaults, options);\n\n      if (current.options.rootOutput) {\n        parent = $(\"body\");\n      } else {\n        parent = mObj.parent();\n      }\n\n      oposition = current.options.position; //ocof,\n\n      reverse = current.options.lensReverse && current.options.position == 'inside';\n\n      //Limits\n      if (current.options.smoothZoomMove < 1) current.options.smoothZoomMove = 1;\n      if (current.options.smoothLensMove < 1) current.options.smoothLensMove = 1;\n      if (current.options.smoothScale < 1) current.options.smoothScale = 1;\n\n      //smoothNormal = current.options.smoothZoomMove && current.options.smoothLensMove && current.options.smoothScale;\n\n      //Adaptive\n      if (current.options.adaptive) {\n        $(window).xon('load',function(){\n          osw = mObj.width();\n          osh = mObj.height();\n\n          current.adaptive();\n          $(window).resize(current.adaptive);\n        });\n      }\n      current.eventdefault();\n      current.eventopen(mObj);\n    }\n\n    this.destroy = function() {\n      current.eventunbind();\n    }\n\n    this.closezoom = function() {\n      flag = false;\n      if (current.options.fadeOut) {\n        if (current.options.title && title != '') caption_container.fadeOut(299);\n        if (current.options.position != 'inside' || current.options.position != 'fullscreen') {\n          preview.fadeOut(299);\n          source.fadeOut(300, function(){xremove()});\n        } else {\n          source.fadeOut(300, function(){xremove()});\n        }\n      } else {\n        xremove();\n      }\n    }\n\n    this.gallery = function() {\n      var g = new Array();\n      var i,j = 0;\n      for (i = cindex; i<imageGallery.length; i++) {\n        g[j] = imageGallery[i];j++;\n      }\n      for (i = 0; i<cindex; i++) {\n        g[j] = imageGallery[i];j++;\n      }\n\n      return {index: cindex, ogallery: imageGallery, cgallery: g};\n    }\n\n    function get_title(element) {\n      var otitle = element.attr('title');\n      var xotitle = element.attr('xtitle');\n      if (xotitle) {\n        return xotitle;\n      } else if (otitle) {\n        return otitle\n      } else {\n        return '';\n      }\n    }\n\n    this.xappend = function(Obj) {\n      var link = Obj.parent();\n      //Add original image to image gallery\n      imageGallery[index] = link.attr('href');\n      link.data('xindex', index);\n      if (index == 0 && current.options.activeClass) {active = Obj; active.addClass(current.options.activeClass)}\n      if (index == 0 && current.options.title) title = get_title(Obj);\n      index++;\n\n      function thumbchange(event) {\n        xremove();\n        event.preventDefault();\n        if (current.options.activeClass) {\n          active.removeClass(current.options.activeClass);\n          active = Obj;\n          active.addClass(current.options.activeClass);\n        }\n        cindex = $(this).data('xindex');\n        if (current.options.fadeTrans) {\n          transImg = new Image();\n          transImg.src = mObj.attr('src');\n          trans = $(transImg);\n          trans.css({position: 'absolute', top: mObj.offset().top, left: mObj.offset().left, width: mObj.width(), height: mObj.height()});\n          $(document.body).append(trans);\n          trans.fadeOut(200, function() {trans.remove()});\n        }\n        var _xorig = link.attr('href');\n        var _prev = Obj.attr('xpreview') || Obj.attr('src');\n\n        title = get_title(Obj);\n        if (Obj.attr('title')) mObj.attr('title',Obj.attr('title'));\n\n        //imgObj.attr('src',_xorig);\n        mObj.attr('xoriginal',_xorig);\n        mObj.removeAttr('style');\n        mObj.attr('src', _prev);\n        if (current.options.adaptive) {\n          osw = mObj.width();\n          osh = mObj.height();\n        }\n        //Prevent submit on click\n        //return false;\n      }\n\n      if (current.options.hover) {\n        link.xon('mouseenter', link, thumbchange);\n      }\n      link.xon('click', link, thumbchange);\n    }\n\n    this.init(opts);\n  }\n\n    $.fn.xzoom = function(options) {\n      var mainObj;\n      var secObj;\n\n      if (this.selector) {\n        var el = this.selector.split(\",\");\n        for (var i in el) el[i] = $.trim(el[i]);\n        this.each(function(index) {\n          if (el.length == 1) {\n            if (index == 0) {\n              //Main window element\n              mainObj = $(this);\n            if (typeof(mainObj.data('xzoom')) !== 'undefined') return mainObj.data('xzoom');\n              mainObj.x = new xobject(mainObj, options);\n            } else if(typeof(mainObj.x) !== 'undefined') {\n              //Thumbs\n              secObj = $(this);\n              mainObj.x.xappend(secObj);\n            }\n          } else {\n            if ($(this).is(el[0]) && index == 0) {\n              //Main window element\n              mainObj = $(this);\n            if (typeof(mainObj.data('xzoom')) !== 'undefined') return mainObj.data('xzoom');\n              mainObj.x = new xobject(mainObj, options);\n            } else if(typeof(mainObj.x) !== 'undefined' && !$(this).is(el[0])) {\n              //Thumbs\n              secObj = $(this);\n              mainObj.x.xappend(secObj);\n            }\n          }\n        });\n      } else this.each(function(index) {\n        if (index == 0) {\n          //Main window element\n          mainObj = $(this);\n          if (typeof(mainObj.data('xzoom')) !== 'undefined') return mainObj.data('xzoom');\n          mainObj.x = new xobject(mainObj, options);\n        } else if(typeof(mainObj.x) !== 'undefined') {\n          //Thumbs\n          secObj = $(this);\n          mainObj.x.xappend(secObj);\n        }\n      });\n      if (typeof(mainObj) === 'undefined') return false;\n      mainObj.data('xzoom', mainObj.x);\n\n      //Fire event xzoom init\n      $(mainObj).trigger('xzoom_ready');\n      return mainObj.x;\n    }\n\n  $.fn.xzoom.defaults = {\n    position: 'right', //top, left, right, bottom, inside, lens, fullscreen, #ID\n    mposition: 'inside', //inside, fullscreen\n    rootOutput: true,\n    Xoffset: 0,\n    Yoffset: 0,\n    fadeIn: true,\n    fadeTrans: true,\n    fadeOut: false,\n    smooth: true,\n    smoothZoomMove: 3,\n    smoothLensMove: 1,\n    smoothScale: 6,\n    defaultScale: 0, //from -1 to 1, that means -100% till 100% scale\n    scroll: true,\n    tint: false, //'#color'\n    tintOpacity: 0.5,\n    lens: false, //'#color'\n    lensOpacity: 0.5,\n    lensShape: 'box', //'box', 'circle'\n    lensCollision: true,\n    lensReverse: false,\n    openOnSmall: true,\n    zoomWidth: 'auto',\n    zoomHeight: 'auto',\n    sourceClass: 'xzoom-source',\n    loadingClass: 'xzoom-loading',\n    lensClass: 'xzoom-lens',\n    zoomClass: 'xzoom-preview',\n    activeClass: 'xactive',\n    hover: false,\n    adaptive: true,\n    adaptiveReverse: false,\n    title: false,\n    titleClass: 'xzoom-caption',\n    bg: false //zoom image output as background\n  };\n})(jQuery);"]},"metadata":{},"sourceType":"module"}